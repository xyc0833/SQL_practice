# sqlæŸ¥ç¼ºè¡¥æ¼

## macä¸­å¦‚æœç”¨homebrewå®‰è£…mysqlçš„è¯ æ— å¯†ç 
**ç›¸å…³è¯´æ˜**

[å…·ä½“æ•™ç¨‹](https://www.sjkjc.com/mysql/install-on-macos/)

brew install mysql

brew services start mysql

**mysql_secure_installation è¿™ä¸ªæš‚æ—¶æ²¡æœ‰å¼„**

ç”¨å®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯
mysql -u root -p 

MacBook-Air:~ xuyaochen$ mysql -u root -p 
Enter password: 
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 9
Server version: 9.5.0 Homebrew

Copyright (c) 2000, 2025, Oracle and/or its affiliates.

Oracle is a registered trademark of Oracle Corporation and/or its
affiliates. Other names may be trademarks of their respective
owners.

Type 'help;' or '\h' for help. Type '\c' to clear the current input statement.

mysql> 

- brew services start mysql: å¯åŠ¨ MySQL æœåŠ¡å™¨ï¼Œå¹¶è®¾ç½®ä¸ºè‡ªå¯åŠ¨ã€‚
- brew services stop mysql: åœæ­¢ MySQL æœåŠ¡å™¨ï¼Œå¹¶è®¾ç½®ä¸ºä¸è‡ªå¯åŠ¨ã€‚
- brew services run mysql: åªå¯åŠ¨ MySQL æœåŠ¡å™¨ã€‚
- mysql.server start: å¯åŠ¨ MySQL æœåŠ¡å™¨ã€‚
- mysql.server stop: åœæ­¢ MySQL æœåŠ¡å™¨ã€‚


show tables;

Bç«™ sqlæ•™ç¨‹

https://zhuanlan.zhihu.com/p/222865842

## ä¸´æ—¶è¡¨

https://www.bilibili.com/video/BV1sS4y1k74M/?spm_id_from=333.337.search-card.all.click&vd_source=4fd29620ab97a080af7ee392e19b0fcb

student å­¦ç”Ÿè¡¨ (å­¦å¤š, ä¼¼å, æ­¤åˆ«.) 
é€‰è¯¾å…³ç³»è¡¨ (å­¦å·, è¯¾ç¨‹å·, æˆçƒ«) 
204289
è¯¾ç¨‹è¡¨ (æ·±ç™£å·, æ´ªç™£å, æˆé¡») 

å½“æˆ‘ä»¬æ„Ÿè§‰åˆ°éš¾çš„æ—¶å€™ å…¶å®æ˜¯æˆ‘ä»¬ç¼ºå°‘ä¸­é—´æ•°æ®

--ä¸´æ—¶è¡¨
with t1 as (
    select * from student as s,s_course as sc,course as c where s.sno = sc.sno and sc.cno = c.cno and c.name = "javaåŸºç¡€"
),
t2 as (
    select * from student as s,s_course as sc,course as c where s.sno = sc.sno and sc.cno = c.cno and c.name = "é«˜ç­‰æ•°å­¦"
)
--æœ‰äº†ä¸Šé¢çš„ä¸´æ—¶è¡¨ä¹‹å
select * from t1,t2 where t1.sno = t2.sno and t1.mark > t2.mark

**ä½¿ç”¨ä¸´æ—¶è¡¨åšæ€è·¯ä¸Šçš„æ‹†è§£**

## æ’å…¥

[sqlçš„æ’å…¥ç›¸å…³æ•™ç¨‹](sjkjc.com/mysql/insert/)

INSERT INTO `products` VALUES (2,'Pork - Bacon,back Peameal',49,4.65);

Insert:insert into åˆ—å å€¼
delete: delete from è¡¨ï¼‹æ¡ä»¶
å•è¡¨åˆ é™¤ï¼šwhere, orderby
å¤šè¡¨åˆ é™¤ï¼šè¿æ¥åç”¨å¦ä¸€è¡¨çš„æ¡ä»¶
Update:update è¡¨ set åˆ—å=æ–°å€¼

**æ’å…¥å•è¡Œ**
INSERT into customers(
	address,
    city,
    state,
    last_name,
    first_name,
    birth_date) 
VALUES(
'5225 Figueroa Mountain Rd',
'Los Olivos',
'CA',
'Jackson',
'michael',
'1958-08-29'
)

**æ’å…¥å¤šè¡Œ**

```
INSERT into shippers(name)
values('shipper1'),
	('shipper2'),
    ('shipper3');
```
ç»ƒä¹ 

```
insert into products(name,quantity_in_stock,unit_price)
 values('product1',1,10),
 ('product2',2,20),
 ('product3',3,30);
```

**æ’å…¥åˆ†çº§è¡Œ**

æ„æ€å°±æ˜¯ æ’å…¥æ•°æ®æ—¶ æ’å…¥åˆ†å±‚è¡Œ

æ¡ˆä¾‹ï¼š
æ–°å¢ä¸€ä¸ªè®¢å•ï¼ˆorderï¼‰ï¼Œé‡Œé¢åŒ…å«ä¸¤ä¸ªè®¢å•é¡¹ç›®/ä¸¤ç§å•†å“ï¼ˆorder_itemsï¼‰ï¼Œè¯·åŒæ—¶æ›´æ–°è®¢å•è¡¨å’Œè®¢å•é¡¹ç›®è¡¨

```sql
USE sql_store;
INSERT INTO orders (customer_id, order_date, status)
VALUES (1, '2019-01-01', 1);
-- å¯ä»¥å…ˆè¯•ä¸€ä¸‹ç”¨ SELECT last_insert_id() çœ‹èƒ½å¦æˆåŠŸè·å–åˆ°çš„æœ€æ–°çš„order_id
 select last_insert_id();

INSERT INTO order_items -- å…¨æ˜¯å¿…é¡»å­—æ®µï¼Œå°±ä¸ç”¨æŒ‡å®šäº†
VALUES
(last_insert_id(), 1, 2, 2.5),
(last_insert_id(), 2, 5, 1.5)
```

## åˆ›å»ºè¡¨çš„å‰¯æœ¬

**è¿ç”¨ CREAT TABLE æ–°è¡¨å AS å­æŸ¥è¯¢ å¿«é€Ÿåˆ›å»ºè¡¨ orders çš„å‰¯æœ¬è¡¨ orders_archived**

```sql
 create table orders_archived as
	select * from orders;
```

- SELECT * FROM orders é€‰æ‹©äº† oders ä¸­æ‰€æœ‰æ•°æ®ï¼Œä½œä¸ºASçš„å†…å®¹ï¼Œæ˜¯ä¸€ä¸ªå­æŸ¥è¯¢
- å­æŸ¥è¯¢ï¼š ä»»ä½•ä¸€ä¸ªå……å½“å¦ä¸€ä¸ªSQLè¯­å¥çš„ä¸€éƒ¨åˆ†çš„ SELECTâ€¦â€¦ æŸ¥è¯¢è¯­å¥éƒ½æ˜¯å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æŠ€
å·§ã€‚

ä¸å† ç”¨ å…¨ éƒ¨ æ•° æ® ï¼Œ è€Œ é€‰ ç”¨ åŸ è¡¨ ä¸­ éƒ¨ åˆ† æ•° æ® åˆ› å»º å‰¯ æœ¬ è¡¨ ï¼Œ å¦‚ ï¼Œ ç”¨ ä»Š å¹´ ä»¥ å‰ çš„ orders åˆ› å»º ä¸€ ä¸ª å‰¯ æœ¬ è¡¨
orders_archivedï¼Œå…¶å®å°±æ˜¯åœ¨å­æŸ¥è¯¢é‡Œå¢åŠ äº†ä¸€ä¸ªWHEREè¯­å¥è¿›è¡Œç­›é€‰ã€‚æ³¨æ„è¦å…ˆ drop åˆ æ‰ æˆ– truncate æ¸…
ç©ºæ‰ä¹‹å‰å»ºçš„ orders_archived è¡¨å†é‡å»ºæˆ–é‡å¡«ã€‚

```sql
drop table orders_archived;
 create table orders_archived as
	select * from orders
	where order_date<'2019-01-01';
```

delete æ˜¯åˆ é™¤è¡¨ä¸­çš„æ•°æ®, æˆ‘ä»¬å¯ä»¥é€‰æ‹©åˆ é™¤éƒ¨åˆ†æ•°æ®æˆ–è€…å…¨éƒ¨æ•°æ®, delete åˆ é™¤çš„æ•°æ®
æ˜¯å¯ä»¥å›æ»šçš„, 
delete æ“ä½œå¹¶ä¸æ˜¯çœŸçš„æŠŠæ•°æ®åˆ é™¤æ‰äº†, è€Œæ˜¯ç»™æ•°æ®æ‰“ä¸Šåˆ é™¤æ ‡è®°, ç›®çš„æ˜¯
ä¸ºäº†ç©ºé—´å¤ç”¨, æ‰€ä»¥ delete åˆ é™¤è¡¨æ•°æ®, ç£ç›˜æ–‡ä»¶çš„å¤§å°æ˜¯ä¸ä¼šç¼©å‡çš„ã€‚

drop æ˜¯åˆ é™¤è¡¨ç»“æ„å’Œè¡¨ä¸­æ‰€æœ‰çš„æ•°æ®, truncate æ˜¯åªåˆ é™¤è¡¨ä¸­æ‰€æœ‰çš„è®°å½•, è¡¨ç»“æ„å¹¶ä¸ä¼š
è¢«åˆ é™¤, drop å’Œ truncate åˆ é™¤çš„æ•°æ®éƒ½æ˜¯ä¸å¯ä»¥å›æ»šçš„, å¹¶ä¸”åˆ é™¤è¡¨ä¼šç«‹åˆ»é‡Šæ”¾ç£ç›˜ç©ºé—´

ä»åˆ é™¤è¡¨çš„æ€§èƒ½æ¥çœ‹ï¼Œdropï¼ˆçœŸçš„éƒ½åˆ ï¼‰ > truncateï¼ˆåªåˆ è®°å½•ï¼‰ > delete ï¼ˆä¸åˆ ï¼‰

**ç»ƒä¹ **


```sql
DROP TABLE invoices_archived;
CREATE TABLE invoices_archived AS
SELECT i.invoice_id, c.name AS client, i.payment_date
-- ä¸ºäº†ç®€åŒ–ï¼Œå°±é€‰è¿™ä¸‰åˆ—
FROM invoices i
JOIN clients c
USING (client_id)
ã€WHERE i.payment_date IS NOT NULLã€‘
-- æˆ–è€… i.payment_total > 0

```

## USING çš„åŸºæœ¬ä½œç”¨

USING ç”¨äº å½“ä¸¤å¼ è¡¨ä¸­å­˜åœ¨â€œåŒåè¿æ¥åˆ—â€æ—¶ï¼Œä»£æ›¿ ON table1.col = table2.col çš„å†™æ³•ã€‚

SELECT ...
FROM table1
JOIN table2
USING (column_name);

ç­‰ä»·äº

FROM table1
JOIN table2
ON table1.column_name = table2.column_name;


## æ›´æ–°å•è¡Œ

UPDATE è¡¨
ã€SET è¦ä¿®æ”¹çš„å­—æ®µ = å…·ä½“å€¼/NULL/DEFAULT/åˆ—é—´æ•°å­¦è¡¨è¾¾å¼ã€‘ ï¼ˆã€ä¿®æ”¹å¤šä¸ªå­—æ®µç”¨é€—å·åˆ†éš”ã€‘ï¼‰
WHERE è¡Œç­›é€‰

USE sql_invoicing;
UPDATE invoices
SET
payment_total = 100 / 0 / DEFAULT / NULL / 0.5 * invoice_total,
-- ã€æ³¨æ„ 0.5 * invoice_total çš„ç»“æœå°æ•°è¢«èˆå¼ƒï¼Œä¹‹åè®²æ•°æ®ç±»å‹ä¼šè®²åˆ°è¿™ä¸ªé—®é¢˜ã€‘
payment_date = '2019-01-01' / DEFAULT / NULL / due_date
WHERE invoice_id = 3

update invoices
set 
	payment_total = 10, payment_date = '2019-01-03'
    where invoice_id = 1;

## æ›´æ–°å¤šè¡Œ

**è¯­æ³•ä¸€æ ·çš„ï¼Œå°±æ˜¯è®© WHEREâ€¦â€¦ çš„æ¡ä»¶åŒ…å«æ›´å¤šè®°å½•ï¼Œå°±ä¼šåŒæ—¶æ›´æ”¹å¤šæ¡è®°å½•äº†**

Workbenché»˜è®¤å¼€å¯äº†Safe UpdatesåŠŸèƒ½ï¼Œä¸å…è®¸åŒæ—¶æ›´æ”¹å¤šæ¡è®°å½•ï¼Œè¦å…ˆå…³é—­è¯¥åŠŸèƒ½ï¼ˆåœ¨ Preferenceâ€”â€”
SQL Editor é‡Œï¼‰

USE sql_invoicing;
UPDATE invoices
SET payment_total = 233, payment_date = due_date
WHERE client_id = 3 -- è¯¥å®¢æˆ·çš„å‘ç¥¨è®°å½•ä¸æ­¢ä¸€æ¡ï¼Œå°†åŒæ—¶æ›´æ”¹
/WHERE client_id IN (3, 4) -- ç¬¬äºŒç«  4~9 è®²çš„é‚£äº›å†™ WHERE æ¡ä»¶çš„æ–¹å¼å½“ç„¶éƒ½å¯ä»¥ç”¨
-- ç”šè‡³å¯ä»¥ç›´æ¥çœç•¥ WHERE è¯­å¥ï¼Œä¼šç›´æ¥æ›´æ”¹æ•´ä¸ªè¡¨çš„å…¨éƒ¨è®°å½•

ç»ƒä¹ 

```sql
update customers
set points = points + 50 --setä¸­ä½¿ç”¨äº†è¡¨è¾¾å¼
where birth_date <'1990-01-01';
``` 

## åœ¨updateä¸­ ä½¿ç”¨å­æŸ¥è¯¢

```sql
update customers
set points = points + 50 --setä¸­ä½¿ç”¨äº†è¡¨è¾¾å¼
where client_id = (
    select client_id 
    from clients
    where name = 'myworks'
);
``` 

```sql
update customers
set points = points + 50 --setä¸­ä½¿ç”¨äº†è¡¨è¾¾å¼
where client_id IN (
    select client_id 
    from clients
    where state IN ('ca','ny')
);
``` 
ä½¿ç”¨ in å…³é”®å­—  ï¼šåˆ¤æ–­å­—æ®µæ˜¯å¦å±äºæŸäº›å€¼

IN â€¦â€¦ åé™¤äº†å¯æ¥ ï¼ˆâ€¦â€¦, â€¦â€¦ï¼‰ ä¹Ÿå¯æ¥ç”±å­æŸ¥è¯¢å¾—åˆ°çš„å¤šä¸ªæ•°æ®ï¼ˆä¸€åˆ—å¤šæ¡æ•°æ®ï¼‰

SELECT *
FROM employees
WHERE dept_id IN (1, 3, 5);

ç­‰ä»·äº

WHERE dept_id = 1
   OR dept_id = 3
   OR dept_id = 5;


## DBè¨­è¨ˆã€€

https://www.youtube.com/watch?v=T6g-DLWHscw&pp=ygUV5pel5pys6ZaL55m644CAZS1y5Zuz



ã€2021å¹´ç‰ˆã€‘ãƒ†ã‚™ãƒ¼ã‚¿ãƒ˜ã‚™ãƒ¼ã‚¹ï¼‹SQLå…¥é–€

https://www.youtube.com/watch?v=IiX6J0FfGng&list=PL-1KBX2gDRujQaRgEByueezHBiqHP8KDD

## E-Rå›¾ç›¸å…³ 

colaå›è¯´å¾ˆé‡è¦
https://www.youtube.com/watch?v=T6g-DLWHscw&list=PL-1KBX2gDRujQaRgEByueezHBiqHP8KDD&index=2

![alt text](image-1.png)

[è‹¥æ‰‹ãƒ—ãƒ­ã‚°ãƒ©ãƒãƒ¼å¿…èª­ï¼ï¼•åˆ†ã§ç†è§£ã§ãã‚‹ERå›³ã®æ›¸ãæ–¹ï¼•ã‚¹ãƒ†ãƒƒãƒ—](https://it-koala.com/entity-relationship-diagram-1897)

è¦è®°ä½çš„

ãƒ†ãƒ¼ãƒ–ãƒ«
ã‹ã‚‰ã‚€ã€€ï¼šå…³ç³» == ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ ï¼ˆä½†æ˜¯ä¸ç”¨è¿™ä¸ªè¯è¯­ï¼‰

ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ = å±æ€§ / ç‰¹æ€§ / ç‰¹å¾ attribute

ğŸ‘‰ æŒ‡æŸä¸ªå¯¹è±¡æ‰€å…·æœ‰çš„æ€§è´¨æˆ–å­—æ®µ

äºŒã€ä¸åŒåœºæ™¯ä¸‹çš„æ„æ€ï¼ˆå¾ˆé‡è¦ï¼‰
1ï¸âƒ£ IT / ç¼–ç¨‹ / æ•°æ®åº“ï¼ˆæœ€å¸¸è§ï¼‰
åœ¨ä½ ç°åœ¨å­¦çš„ SQL / æ•°æ®åº“è¯­å¢ƒä¸­ï¼š
ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ = å­—æ®µ / åˆ—ï¼ˆcolumn / fieldï¼‰
ä¾‹å¦‚ï¼š
ç”¨æˆ·è¡¨ä¸­çš„ age
é¢˜ç›®è¡¨ä¸­çš„ difficult_level
ç”¨æˆ·çš„ gender
ğŸ“Œ æ—¥è¯­é‡Œå¸¸è¯´ï¼š
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ
ãƒ‡ãƒ¼ã‚¿ã®ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆ


ï¼•ï¼ï¼“ï¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ãƒã‚¹ã‚¿ç³»ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»ã«åˆ†ã‘ã‚‹
ãƒ‡ãƒ¼ã‚¿ã¯ã€å¤§ããã€Œãƒã‚¹ã‚¿ç³»ã€ã¨ã€Œãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»ã€ã«åˆ†ã‹ã‚Œã¾ã™ã€‚ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆã‚’æ´—ã„å‡ºã™å‰ã«ã€ãƒã‚¹ã‚¿ç³»ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»ã«æ•´ç†ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ãƒã‚¹ã‚¿ç³»ã¨ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ç³»ã‚’æ•´ç†ã™ã‚‹éç¨‹ã§ã€ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãŒåˆä½“ã™ã‚‹ã“ã¨ã‚‚ã‚ˆãã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€ä¸‹å›³ã§ã¯ã€ŒãŠå±Šã‘å…ˆã€ã€Œè«‹æ±‚å…ˆã€ã€Œé…é€æ–¹æ³•ã€ã€Œæ±ºæ¸ˆæ–¹æ³•ã€ãŒã€ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦ï¼‘ã¤ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ãªã‚Šãã†ã§ã™ã€‚

5.3. å°†å®ä½“åˆ†ä¸ºä¸»å®ä½“å’Œäº‹åŠ¡å®ä½“
æ•°æ®å¤§è‡´å¯ä»¥åˆ†ä¸ºâ€œä¸»æ•°æ®â€å’Œâ€œäº‹åŠ¡æ•°æ®â€ä¸¤ç±»ã€‚åœ¨è¯†åˆ«å±æ€§ä¹‹å‰ï¼Œéœ€è¦å…ˆå°†æ•°æ®æ•´ç†æˆä¸»æ•°æ®å’Œäº‹åŠ¡æ•°æ®ä¸¤ç±»ã€‚åœ¨æ•´ç†ä¸»æ•°æ®å’Œäº‹åŠ¡æ•°æ®çš„è¿‡ç¨‹ä¸­ï¼Œå®ä½“ä¹‹é—´ç»å¸¸ä¼šå‘ç”Ÿåˆå¹¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ä¸‹å›¾æ‰€ç¤ºçš„ä¾‹å­ä¸­ï¼Œâ€œæ”¶è´§åœ°å€â€ã€â€œè´¦å•åœ°å€â€ã€â€œé…é€æ–¹å¼â€å’Œâ€œæ”¯ä»˜æ–¹å¼â€å¾ˆå¯èƒ½åˆå¹¶æˆä¸€ä¸ªäº‹åŠ¡å®ä½“ã€‚

sqlå®‰æ™ºãƒ‘ã‚¿ãƒ³

ã‚¢ãƒ³ãƒãƒ‘ã‚¿ãƒ¼ãƒ³ã€€ï¼šåé¢æ•™æ anti-pattern



E-R å›¾ï¼ˆERå›³ï¼‰ç³»ç»Ÿä»‹ç»ï¼ˆåå¯¹æ—¥å¼€å‘ï¼‰
ä¸€ã€ä»€ä¹ˆæ˜¯ E-R å›¾ï¼ˆERå›³ï¼‰

E-R å›¾ï¼ˆEntityâ€“Relationship Diagramï¼‰
æ˜¯ä¸€ç§ ç”¨äºæ•°æ®åº“æ¦‚å¿µè®¾è®¡ çš„å›¾å½¢åŒ–å·¥å…·ï¼Œç”¨æ¥æè¿°ï¼š

ç³»ç»Ÿä¸­æœ‰å“ªäº› å®ä½“ï¼ˆEntityï¼‰

å®ä½“æœ‰å“ªäº› å±æ€§ï¼ˆAttributeï¼‰

å®ä½“ä¹‹é—´å­˜åœ¨ä»€ä¹ˆ å…³ç³»ï¼ˆRelationshipï¼‰

ğŸ“Œ åœ¨å¯¹æ—¥å¼€å‘ä¸­å¸¸è§å«æ³•ï¼š

ERå›³ï¼ˆã‚¤ãƒ¼ã‚¢ãƒ¼ãƒ«ãšï¼‰

æ¦‚å¿µERå›³ / è«–ç†ERå›³

æœ‰æ—¶ä¹Ÿå« ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

---
äºŒã€E-R å›¾çš„ä¸‰å¤§æ ¸å¿ƒè¦ç´ 
1ï¸âƒ£ å®ä½“ï¼ˆEntityï¼ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ï¼‰

ğŸ‘‰ ç°å®ä¸–ç•Œä¸­å¯ä»¥ç‹¬ç«‹å­˜åœ¨çš„å¯¹è±¡

ä¾‹å­	è¯´æ˜
ç”¨æˆ·	äºº
å•†å“	ç‰©
è®¢å•	ä¸šåŠ¡å¯¹è±¡
å­¦ç”Ÿ	ç®¡ç†å¯¹è±¡

2ï¸âƒ£ å±æ€§ï¼ˆAttributeï¼ã‚¢ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ãƒˆï¼‰

ğŸ‘‰ å®ä½“æ‰€å…·æœ‰çš„ç‰¹å¾

å±æ€§ç±»å‹	è¯´æ˜
ä¸»é”®	å”¯ä¸€æ ‡è¯†å®ä½“
æ™®é€šå±æ€§	æè¿°ä¿¡æ¯
å¯ä¸ºç©º	NULL
ä¸å¯ä¸ºç©º	NOT NULL

3ï¸âƒ£ å…³ç³»ï¼ˆRelationshipï¼ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

ğŸ‘‰ å®ä½“ä¸å®ä½“ä¹‹é—´çš„å…³è”

å…³ç³»	ç¤ºä¾‹
ä¸€å¯¹ä¸€ï¼ˆ1:1ï¼‰	äºº â†” èº«ä»½è¯
ä¸€å¯¹å¤šï¼ˆ1:Nï¼‰	ç”¨æˆ· â†” è®¢å•
å¤šå¯¹å¤šï¼ˆM:Nï¼‰	å­¦ç”Ÿ â†” è¯¾ç¨‹

å››ã€E-R å›¾çš„ä¸‰ç§å±‚æ¬¡ï¼ˆéå¸¸é‡è¦ï¼‰
1ï¸âƒ£ æ¦‚å¿µ ER å›¾ï¼ˆæ¦‚å¿µERå›³ï¼‰

é¢å‘ ä¸šåŠ¡

ä¸è€ƒè™‘æ•°æ®åº“å®ç°

ç”¨äºå’Œ æ—¥æ–¹ç¡®è®¤éœ€æ±‚

ğŸ“Œ ç‰¹ç‚¹ï¼š

ä¸å†™å­—æ®µç±»å‹

ä¸å†™ä¸»é”®å®ç°æ–¹å¼

2ï¸âƒ£ é€»è¾‘ ER å›¾ï¼ˆè«–ç†ERå›³ï¼‰â­ï¼ˆæœ€å¸¸ç”¨ï¼‰

æ˜ç¡®ï¼š

ä¸»é”®

å¤–é”®

è¡¨ç»“æ„

ä¸ç»‘å®šå…·ä½“æ•°æ®åº“

ğŸ“Œ å¯¹æ—¥å¼€å‘ä¸­ æœ€å¸¸è¢«è¦æ±‚çš„å°±æ˜¯è¿™ä¸€å±‚

3ï¸âƒ£ ç‰©ç† ER å›¾ï¼ˆç‰©ç†ERå›³ï¼‰

å’Œ MySQL / Oracle / PostgreSQL å¼ºç»‘å®š

æ˜ç¡®ï¼š

varchar / int

ç´¢å¼•

NOT NULL

![alt text](image-2.png)

![alt text](image-3.png)

å¯¾ç­–
ä¸­é–“ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ã¤ã

![alt text](image-4.png)


ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ã€cardinalityã€‘

ğŸ”¥ åŸºæ•°ï¼ˆCardinalityï¼‰å’Œå…³ç³»çš„åˆ†ç±»ï¼š

åœ¨æ•°æ®åº“ä¸­ï¼Œå¡å°”è¿ªçº³å°”æ•°ä¸»è¦ç”¨æ¥æè¿°ä¸¤ä¸ªå®ä½“ä¹‹é—´çš„ å…³ç³» çš„ åŸºæ•°ï¼ˆå³å…³ç³»çš„æ•°é‡å…³ç³»ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¡å°”è¿ªçº³å°”æ•°æ¥åŒºåˆ†å…³ç³»çš„ç±»å‹ï¼Œå…·ä½“åˆ†ä¸ºä»¥ä¸‹å‡ ç±»ï¼š

1. ä¸€å¯¹ä¸€å…³ç³»ï¼ˆ1:1ï¼‰

æè¿°ï¼šæ¯ä¸ªå®ä½“åœ¨ä¸¤è€…ä¹‹é—´åªèƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„å…³ç³»ã€‚

ä¾‹å­ï¼šä¸€ä¸ª ç”¨æˆ· å¯¹åº”ä¸€ä¸ª èº«ä»½è¯ã€‚

ãƒ¦ãƒ¼ã‚¶ãƒ¼ 1 â€”â€” 1 èº«åˆ†è¨¼

2. ä¸€å¯¹å¤šå…³ç³»ï¼ˆ1:Nï¼‰

æè¿°ï¼šä¸€ä¸ªå®ä½“å’Œå¦ä¸€ä¸ªå®ä½“ä¹‹é—´æ˜¯ ä¸€å¯¹å¤š çš„å…³ç³»ã€‚

ä¾‹å­ï¼šä¸€ä¸ª ä½œè€… å¯ä»¥æœ‰å¤šæœ¬ ä¹¦ï¼Œä½†æ˜¯ä¸€æœ¬ä¹¦åªæœ‰ä¸€ä¸ªä½œè€…ã€‚

ä½œè€… 1 â€”â€” N æœ¬

3. å¤šå¯¹å¤šå…³ç³»ï¼ˆM:Nï¼‰

æè¿°ï¼šä¸¤ä¸ªå®ä½“ä¹‹é—´äº’ç›¸æ˜¯ å¤šå¯¹å¤š çš„å…³ç³»ã€‚

ä¾‹å­ï¼šä¸€ä¸ª å­¦ç”Ÿ å¯ä»¥å‚åŠ å¤šé—¨ è¯¾ç¨‹ï¼ŒåŒæ—¶ä¸€é—¨è¯¾ç¨‹ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªå­¦ç”Ÿã€‚

å­¦ç”Ÿ N â€”â€” M è¯¾ç¨‹


ğŸ‘‰ è¿™ç§å¤šå¯¹å¤šå…³ç³»é€šå¸¸ä¼šé€šè¿‡ ä¸­é—´è¡¨ æ¥å®ç°ã€‚

åº¦åˆã„ã€€ ç¨‹åº¦ åˆ†å¯¸



ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ï¼ˆData Modelingï¼‰æ˜¯ åˆ†æã€è®¾è®¡ å’Œ æ„å»ºæ•°æ®åº“ ç»“æ„çš„è¿‡ç¨‹ï¼Œç›®çš„æ˜¯ï¼š

æè¿° æ•°æ®é—´çš„å…³ç³»

å®šä¹‰ æ•°æ®çš„ç»“æ„

ç¡®ä¿ æ•°æ®çš„å®Œæ•´æ€§å’Œä¸€è‡´æ€§

åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼ˆDBMSï¼‰ä¸­ï¼Œæ•°æ®æ¨¡å‹æ˜¯ç¡®ä¿æ•°æ®åœ¨å­˜å‚¨ã€å¤„ç†å’ŒæŸ¥è¯¢æ—¶èƒ½æ­£ç¡®ã€æœ‰æ•ˆåœ°è¿ä½œçš„åŸºç¡€ã€‚


ç´ã¥ãâ€ï¼ˆã²ã‚‚ã¥ãï¼Œhimodukuï¼‰æ˜¯ä¸€ä¸ª æ—¥è¯­åŠ¨è¯ï¼Œæ„æ€æ˜¯ â€œç»‘å®šâ€ã€â€œå…³è”â€ æˆ– â€œè¿æ¥â€ã€‚è¿™ä¸ªè¯é€šå¸¸ç”¨æ¥è¡¨ç¤ºæŸä¸ªäº‹ç‰©ä¸å¦ä¸€ä¸ªäº‹ç‰©ä¹‹é—´çš„è”ç³»æˆ–ä¾èµ–å…³ç³»ã€‚

æ ç·šï¼ˆã‚ãã›ã‚“ï¼‰åœ¨æ—¥è¯­ä¸­çš„å‘éŸ³æ˜¯ â€œwaku-senâ€ï¼Œæ„æ€æ˜¯ â€œè¾¹æ¡†çº¿â€ æˆ– â€œæ¡†çº¿â€ï¼Œå¸¸ç”¨äºæè¿°å›¾å½¢ã€è¡¨æ ¼ç­‰ä¸­çš„ è¾¹æ¡† æˆ– çº¿æ¡ã€‚

æ ç·š

â€œå¤§æ â€ï¼ˆãŠãŠã‚ãï¼ŒÅwakuï¼‰æ˜¯ä¸€ä¸ªæ—¥è¯­è¯æ±‡ï¼Œæ„æ€æ˜¯ â€œå¤§æ¡†æ¶â€ã€â€œå¤§è‡´æ¡†æ¶â€ï¼Œé€šå¸¸ç”¨æ¥è¡¨ç¤º æ•´ä½“çš„æ¡†æ¶ æˆ– å¤§è‡´çš„ç»“æ„ï¼Œè€Œä¸æ˜¯ç»†èŠ‚ã€‚å®ƒé€šå¸¸ç”¨äºæè¿°äº‹ç‰©çš„å®è§‚ç»“æ„ï¼Œå¼ºè°ƒçš„æ˜¯ä¸€ä¸ªæ•´ä½“çš„æ¡†æ¶æˆ–æ¦‚å¿µï¼Œè€Œéå…·ä½“ç»†èŠ‚ã€‚

â€œã‚·ã‚¹ãƒ†ãƒ ã‚·ãƒŠãƒªã‚ªâ€ï¼ˆSystem Scenarioï¼‰æ˜¯ç”±è‹±æ–‡å•è¯ â€œSystemâ€ å’Œ â€œScenarioâ€ ç»„æˆçš„å¤–æ¥è¯­ï¼ŒæŒ‡çš„æ˜¯æè¿° ç³»ç»Ÿæ“ä½œæµç¨‹ æˆ– ç³»ç»ŸåŠŸèƒ½ çš„æƒ…å¢ƒæˆ–åœºæ™¯ã€‚


åè€ƒï¼Œè¯»ä½œ â€œã¸ã‚“ã“ã†â€ï¼ˆhenkÅï¼‰

ä¿ƒã™


ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã€transactionã€‘ äº‹åŠ¡

è½ã¨ã—è¾¼ã‚€â€ï¼ˆãŠã¨ã—ã“ã‚€ï¼Œotoshikomuï¼‰æ˜¯ä¸€ä¸ªæ—¥è¯­åŠ¨è¯ï¼Œæ„æ€æ˜¯ â€œè½å®ã€è´¯å½»ã€å…·ä½“åŒ–â€

å½“ã¦ã¯ã‚ã‚‹â€ï¼ˆã‚ã¦ã¯ã‚ã‚‹ï¼‰çš„åè¯å½¢å¼ã€‚æ„æ€æ˜¯ â€œåº”ç”¨ã€å¥—ç”¨ã€é€‚ç”¨â€ï¼Œè¡¨ç¤ºå°†æŸç§è§„åˆ™ã€æ–¹æ³•ã€æ¦‚å¿µç­‰ åº”ç”¨åˆ° å¦ä¸€ä¸ªæƒ…å†µæˆ–é¢†åŸŸä¸­ï¼Œæˆ–è€…å°†æŸä¸ªæ ‡å‡†ä¸å®é™…æƒ…å†µè¿›è¡Œ åŒ¹é…ã€‚